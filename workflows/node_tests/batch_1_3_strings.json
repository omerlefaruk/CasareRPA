{
    "metadata": {
        "name": "Batch 1.3 - String Operations",
        "description": "Tests FormatStringNode, ConcatenateNode, TextSplitNode, TextJoinNode, TextTrimNode, TextCaseNode, TextReplaceNode, TextSubstringNode, TextContainsNode, TextStartsWithNode, TextEndsWithNode, TextCountNode, TextLinesNode, TextPadNode, TextReverseNode, TextExtractNode, RegexMatchNode",
        "version": "1.0.0"
    },
    "nodes": {
        "set_text": {
            "node_id": "set_text",
            "node_type": "SetVariableNode",
            "config": {
                "variable_name": "text",
                "value": "  Hello World!  "
            },
            "position": [
                0,
                0
            ]
        },
        "text_trim": {
            "node_id": "text_trim",
            "node_type": "TextTrimNode",
            "config": {
                "text": "{{text}}"
            },
            "position": [
                400,
                0
            ]
        },
        "text_case_upper": {
            "node_id": "text_case_upper",
            "node_type": "TextCaseNode",
            "config": {
                "text": "{{text_trim.result}}",
                "case": "upper"
            },
            "position": [
                800,
                0
            ]
        },
        "text_case_lower": {
            "node_id": "text_case_lower",
            "node_type": "TextCaseNode",
            "config": {
                "text": "{{text_trim.result}}",
                "case": "lower"
            },
            "position": [
                1200,
                0
            ]
        },
        "text_replace": {
            "node_id": "text_replace",
            "node_type": "TextReplaceNode",
            "config": {
                "text": "{{text_trim.result}}",
                "old": "World",
                "new": "CasareRPA"
            },
            "position": [
                1600,
                0
            ]
        },
        "text_contains": {
            "node_id": "text_contains",
            "node_type": "TextContainsNode",
            "config": {
                "text": "{{text_replace.result}}",
                "search": "CasareRPA"
            },
            "position": [
                2000,
                0
            ]
        },
        "text_starts_with": {
            "node_id": "text_starts_with",
            "node_type": "TextStartsWithNode",
            "config": {
                "text": "{{text_replace.result}}",
                "prefix": "Hello"
            },
            "position": [
                2400,
                0
            ]
        },
        "text_ends_with": {
            "node_id": "text_ends_with",
            "node_type": "TextEndsWithNode",
            "config": {
                "text": "{{text_replace.result}}",
                "suffix": "!"
            },
            "position": [
                2800,
                0
            ]
        },
        "text_substring": {
            "node_id": "text_substring",
            "node_type": "TextSubstringNode",
            "config": {
                "text": "{{text_replace.result}}",
                "start": 0,
                "end": 5
            },
            "position": [
                3200,
                0
            ]
        },
        "text_count": {
            "node_id": "text_count",
            "node_type": "TextCountNode",
            "config": {
                "text": "{{text_replace.result}}",
                "search": "a"
            },
            "position": [
                3600,
                0
            ]
        },
        "text_split": {
            "node_id": "text_split",
            "node_type": "TextSplitNode",
            "config": {
                "text": "apple,banana,cherry",
                "delimiter": ","
            },
            "position": [
                4000,
                0
            ]
        },
        "text_join": {
            "node_id": "text_join",
            "node_type": "TextJoinNode",
            "config": {
                "items": "{{text_split.parts}}",
                "separator": " | "
            },
            "position": [
                4400,
                0
            ]
        },
        "multiline_text": {
            "node_id": "multiline_text",
            "node_type": "SetVariableNode",
            "config": {
                "variable_name": "multiline",
                "value": "line1\nline2\nline3"
            },
            "position": [
                4800,
                0
            ]
        },
        "text_lines": {
            "node_id": "text_lines",
            "node_type": "TextLinesNode",
            "config": {
                "text": "{{multiline}}"
            },
            "position": [
                5200,
                0
            ]
        },
        "text_pad": {
            "node_id": "text_pad",
            "node_type": "TextPadNode",
            "config": {
                "text": "42",
                "width": 5,
                "pad_char": "0",
                "side": "left"
            },
            "position": [
                5600,
                0
            ]
        },
        "text_reverse": {
            "node_id": "text_reverse",
            "node_type": "TextReverseNode",
            "config": {
                "text": "Hello"
            },
            "position": [
                6000,
                0
            ]
        },
        "concatenate": {
            "node_id": "concatenate",
            "node_type": "ConcatenateNode",
            "config": {
                "string1": "Hello",
                "string2": " World"
            },
            "position": [
                6400,
                0
            ]
        },
        "format_string": {
            "node_id": "format_string",
            "node_type": "FormatStringNode",
            "config": {
                "template": "Name: {name}, Age: {age}",
                "variables": {
                    "name": "Alice",
                    "age": "30"
                }
            },
            "position": [
                6800,
                0
            ]
        },
        "regex_extract": {
            "node_id": "regex_extract",
            "node_type": "TextExtractNode",
            "config": {
                "text": "Email: test@example.com",
                "pattern": "[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}"
            },
            "position": [
                7200,
                0
            ]
        },
        "regex_match": {
            "node_id": "regex_match",
            "node_type": "RegexMatchNode",
            "config": {
                "text": "The price is $100.50",
                "pattern": "\\$[0-9]+\\.[0-9]{2}"
            },
            "position": [
                7600,
                0
            ]
        },
        "log_result": {
            "node_id": "log_result",
            "node_type": "LogNode",
            "config": {
                "message": "All string tests passed! Reversed: {{text_reverse.result}}"
            },
            "position": [
                8000,
                0
            ]
        }
    },
    "connections": [
        {
            "source_node": "set_text",
            "source_port": "exec_out",
            "target_node": "text_trim",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_trim",
            "source_port": "exec_out",
            "target_node": "text_case_upper",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_case_upper",
            "source_port": "exec_out",
            "target_node": "text_case_lower",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_case_lower",
            "source_port": "exec_out",
            "target_node": "text_replace",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_replace",
            "source_port": "exec_out",
            "target_node": "text_contains",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_contains",
            "source_port": "exec_out",
            "target_node": "text_starts_with",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_starts_with",
            "source_port": "exec_out",
            "target_node": "text_ends_with",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_ends_with",
            "source_port": "exec_out",
            "target_node": "text_substring",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_substring",
            "source_port": "exec_out",
            "target_node": "text_count",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_count",
            "source_port": "exec_out",
            "target_node": "text_split",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_split",
            "source_port": "exec_out",
            "target_node": "text_join",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_join",
            "source_port": "exec_out",
            "target_node": "multiline_text",
            "target_port": "exec_in"
        },
        {
            "source_node": "multiline_text",
            "source_port": "exec_out",
            "target_node": "text_lines",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_lines",
            "source_port": "exec_out",
            "target_node": "text_pad",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_pad",
            "source_port": "exec_out",
            "target_node": "text_reverse",
            "target_port": "exec_in"
        },
        {
            "source_node": "text_reverse",
            "source_port": "exec_out",
            "target_node": "concatenate",
            "target_port": "exec_in"
        },
        {
            "source_node": "concatenate",
            "source_port": "exec_out",
            "target_node": "format_string",
            "target_port": "exec_in"
        },
        {
            "source_node": "format_string",
            "source_port": "exec_out",
            "target_node": "regex_extract",
            "target_port": "exec_in"
        },
        {
            "source_node": "regex_extract",
            "source_port": "exec_out",
            "target_node": "regex_match",
            "target_port": "exec_in"
        },
        {
            "source_node": "regex_match",
            "source_port": "exec_out",
            "target_node": "log_result",
            "target_port": "exec_in"
        }
    ],
    "variables": {},
    "settings": {
        "stop_on_error": true,
        "timeout": 60
    }
}

# CasareRPA Cloud Orchestrator - Railway.app Configuration
# https://docs.railway.app/guides/dockerfiles
#
# DEPLOYMENT:
#   1. Connect GitHub repo to Railway
#   2. Add PostgreSQL plugin via dashboard
#   3. Set environment variables (auto-linked from plugins):
#      - DATABASE_URL (auto from PostgreSQL)
#      - JWT_SECRET_KEY (generate with: openssl rand -hex 32)
#      - API_SECRET (generate with: openssl rand -hex 32)
#   4. Deploy via dashboard or: railway up
#
# Note: Railway automatically reads railway.toml for build configuration

[build]
  dockerfile = "deploy/docker/Dockerfile"
  # Set target in Railway dashboard: Build argument "target=orchestrator-cloud"

[start]
  cmd = "uvicorn casare_rpa.infrastructure.orchestrator.api.main:app --host 0.0.0.0 --port $PORT --workers 2"

# Environment variables (override in Railway dashboard)
PORT = "8000"
HOST = "0.0.0.0"
WORKERS = "2"
CASARE_ENV = "production"
CASARE_LOG_LEVEL = "INFO"
ROBOT_HEARTBEAT_TIMEOUT = "90"
JOB_TIMEOUT_DEFAULT = "3600"
WS_PING_INTERVAL = "30"
CORS_ORIGINS = "*"

# Codebase Quality & Architecture Improvement Report

**Date:** 2025-12-23
**Generated by:** System Audit Scripts

---

## Executive Summary

| Category | Score | Issues | Critical |
|----------|-------|--------|----------|
| **Node Modernization** | ✅ 100% | 0/424 legacy | No |
| **Architecture (DDD)** | ⚠️ 85% | 10+ violations | Yes |
| **Code Quality (Ruff)** | ❌ 75% | 318 errors | Yes |
| **Type Safety (Mypy)** | ❌ 80% | 60+ errors | Yes |
| **Monkey Patches** | ❌ 60% | 5 active patches | Yes |
| **Theme Consistency** | ❌ 40% | 500+ hardcoded colors | No |

---

## 1. CRITICAL: Monkey Patches (Must Fix)

### 1.1 Qt Font Patches - `src/casare_rpa/presentation/canvas/graph/node_widgets.py`

**Lines 240-300: CasareViewerFontFix & CasareQFontFix**

```python
# CRITICAL MONKEY PATCH - Line 252
original_font = QGraphicsTextItem.font
def safe_font(self):
    f = original_font(self)
    if f.pointSize() <= 0:
        f.setPointSize(9)
    return f
QGraphicsTextItem.font = safe_font

# CRITICAL MONKEY PATCH - Line 289
original_setPointSize = QFont.setPointSize
def safe_setPointSize(self, size: int) -> None:
    if size <= 0:
        size = 9
    original_setPointSize(self, size)
QFont.setPointSize = safe_setPointSize
```

**Issues:**
- Global patching of Qt classes affects entire application
- Breaks Qt's internal consistency guarantees
- Makes debugging font-related issues impossible
- Violates single responsibility (patching should be at source)

**Recommended Fix:**
1. Create custom `QGraphicsTextItem` subclass with fixed font handling
2. Use `CasareNodeItem` as the graphics item for all nodes (already exists)
3. Override `font()` method in `CasareNodeItem` instead of global patch

**File:** `src/casare_rpa/presentation/canvas/graph/custom_node_item.py`

---

### 1.2 ComboBox/CheckBox Patches - `node_widgets.py` Lines 330-360

```python
# MONKEY PATCH - Line 339
original_combo_init = NodeComboBox.__init__
def safe_combo_init(self, parent, name, label, items):
    original_combo_init(self, parent, name, label, items)
    # ... custom z-order logic
NodeComboBox.__init__ = safe_combo_init

# MONKEY PATCH - Line 348
original_checkbox_init = NodeCheckBox.__init__
def safe_checkbox_init(self, parent, name, label, text, state):
    original_checkbox_init(self, parent, name, label, text, state)
    # ... custom z-order logic
NodeCheckBox.__init__ = safe_checkbox_init
```

**Issues:**
- Patches NodeGraphQt's widget classes
- Interferes with NodeGraphQt updates
- Makes upgrading NodeGraphQt risky

**Recommended Fix:**
1. Create `CasareComboBox` and `CasareCheckBox` subclasses
2. Use these in `node_widgets.py` instead of patching

---

### 1.3 Debug Trace Wrapper - `node_graph_widget.py` Lines 143-161

```python
# CONDITIONAL PATCH - Only when CASARE_CANVAS_UNDO_TRACE=1
if os.environ.get("CASARE_CANVAS_UNDO_TRACE") == "1":
    original_undo = undo_stack.undo
    original_redo = undo_stack.redo

    def traced_undo() -> None:
        logger.debug("Undo invoked:\n" + "".join(traceback.format_stack()))
        original_undo()

    undo_stack.undo = traced_undo  # type: ignore[assignment]
    undo_stack.redo = traced_redo  # type: ignore[assignment]
```

**Assessment:** ✅ **Acceptable** (development tool only)

**Why OK:**
- Behind environment variable flag
- Only for debugging
- Well-documented purpose

**No action required.**

---

## 2. HIGH PRIORITY: Code Quality Issues

### 2.1 Blocking I/O in Async Context (253 instances)

**Script:** `check_blocking_io.py`

**Common Patterns:**
```python
# ❌ BAD - Blocks event loop
time.sleep(1)
open("file.txt").read()
subprocess.run(["cmd"])

# ✅ GOOD - Async alternatives
await asyncio.sleep(1)
await aiofiles.open("file.txt").read()
await asyncio.create_subprocess_exec("cmd")
```

**Affected Areas:**
- Orchestrator services: `orchestrator_engine.py` (lines 787-798)
- Dispatcher service: `dispatcher_service.py` (lines 424-457)
- Job lifecycle: `job_lifecycle_service.py` (line 336)
- File operations: 200+ instances across modules

**Impact:** Blocks async event loop, causes poor responsiveness

**Fix Priority:** HIGH (performance critical)

---

### 2.2 HTTP Client Violations (39 files)

**Script:** `check_http_client_usage.py`

**Issue:** Using raw `aiohttp` instead of `UnifiedHttpClient`

```python
# ❌ BAD - Violates architecture rule
import aiohttp
session = aiohttp.ClientSession()

# ✅ GOOD - Uses unified client
from casare_rpa.infrastructure.http import get_unified_http_client
client = get_unified_http_client()
```

**Affected Files:**
- `infrastructure/orchestrator/client.py`
- `infrastructure/resources/*_client.py` (gmail, google, telegram, whatsapp)
- `infrastructure/security/google_oauth.py`

**Impact:** Missing resilience features (circuit breaker, retry, SSRF protection)

**Fix Priority:** HIGH (security & reliability)

---

### 2.3 Ruff Linter Errors (318 total)

**Top Issues by Category:**

| Rule | Count | Description | Severity |
|------|-------|-------------|----------|
| B904 | 157 | `raise` without `from` in except | Medium |
| ASYNC109 | 43 | async function with timeout | High |
| B008 | 38 | Function call in default argument | Medium |
| UP035 | 28 | Deprecated imports | Low |
| ASYNC221 | 13 | `run_process` in async function | High |
| ASYNC230 | 7 | Blocking `open()` in async | High |
| ASYNC220 | 6 | `create_subprocess` in async | High |

**Example Fix (B904):**
```python
# ❌ BAD
try:
    result = await api_call()
except Exception as e:
    raise ValueError("Failed")  # Loses original traceback

# ✅ GOOD
try:
    result = await api_call()
except Exception as e:
    raise ValueError("Failed") from e  # Preserves traceback
```

---

### 2.4 Mypy Type Errors (60+)

**Top Issues:**

| Error Type | Count | Example |
|------------|-------|---------|
| `no-any-return` | 8 | Functions returning `Any` without typing |
| `no-untyped-def` | 15 | Functions without return type hints |
| `implicit Optional` | 10 | Defaults of `None` without `Optional[T]` |
| `incompatible-assignment` | 12 | Type mismatches |

**Example:**
```python
# ❌ BAD
def execute_workflow(workflow_id):  # Missing type hints
    return result

# ✅ GOOD
def execute_workflow(workflow_id: str) -> ExecutionResult:
    return result
```

---

## 3. MEDIUM PRIORITY: Architecture Issues

### 3.1 Nodes Without Visual Counterparts (424 nodes)

**Script:** `check_node_registry_sync.py`

**Issue:** All domain nodes have NO visual node classes in `presentation/canvas/visual_nodes/`

**Current State:**
- 424 domain nodes ✅
- 0 visual nodes with `setup_ports()` ❌
- All using auto-generated ports only

**Gap:** Custom widgets, port configurations, category colors missing

**Example Missing Visual Nodes:**
- `AIAgentNode`, `AIConditionNode`, `AISwitchNode`
- `GmailBaseNode`, `GoogleBaseNode`, `DriveBaseNode`
- `TelegramBaseNode`, `WhatsAppBaseNode`
- All 424 nodes listed as missing

**Impact:**
- Cannot customize ports per node type
- No visual differentiation for node categories
- Missing property widgets for complex nodes

**Fix Strategy:**
1. Create visual node subclasses in `visual_nodes/` categories
2. Implement `setup_ports()` for custom port configurations
3. Add category-specific colors and icons
4. Priority: Tier 1 (browser, control_flow, file)

---

### 3.2 Theme Color Violations (500+ instances)

**Script:** `check_theme_colors.py`

**Issue:** Hardcoded hex colors instead of `THEME` constants

```python
# ❌ BAD - Found 500+ times
self.setStyleSheet("color: #ADD8E6;")
QBrush(QColor("#8b5cf6"))
"#ff6666"

# ✅ GOOD - Should use
from casare_rpa.presentation.canvas.theme import THEME
self.setStyleSheet(f"color: {THEME['text_secondary']};")
```

**Affected Modules:**
- `selectors/` - Element tree, selector dialogs
- `ui/widgets/` - Custom components
- `ui/panels/` - Debug, output panels

**Impact:** Inconsistent UI, difficult theme switching

**Fix Priority:** MEDIUM (cosmetic but important)

---

### 3.3 Missing @Slot Decorators (150+ methods)

**Script:** `check_signal_slot_usage.py`

**Issue:** Qt signal/slot connections missing `@Slot()` decorator

```python
# ❌ BAD
class MainWindow:
    def on_workflow_changed(self, data):  # Missing @Slot
        self.update_ui(data)

    def __init__(self):
        self.changed_signal.connect(self.on_workflow_changed)

# ✅ GOOD
class MainWindow:
    @Slot()
    def on_workflow_changed(self, data):
        self.update_ui(data)
```

**Impact:** Potential thread-safety issues in Qt

**Fix Priority:** MEDIUM (stability)

---

## 4. STRENGTHS (Keep These!)

### 4.1 Node Modernization ✅ 100%

**Script:** `audit_node_modernization.py`

- **All 424 nodes** use `@properties` decorator
- All define schema via `PropertyDef`
- No legacy `self.config.get()` patterns
- Auto-generated property widgets working

**Grade:** A+ ⭐⭐⭐⭐⭐

---

### 4.2 Clean DDD Architecture ✅

**Layer Dependency Flow:**
```
Presentation → Application → Domain ← Infrastructure
```

**Checks Passed:**
- ✅ Domain layer has NO external dependencies
- ✅ Domain purity check: 0 violations
- ✅ Protocol-based interfaces for dependency inversion
- ✅ Separation of concerns maintained

**Grade:** A ⭐⭐⭐⭐

---

### 4.3 Modern Type Hints ✅

**Python 3.12 Features in Use:**
- ✅ Built-in collection types (`list[T]` not `List[T]`)
- ✅ Union operators (`T | None` not `Optional[T]`)
- ✅ Protocol-based interfaces

**Grade:** A ⭐⭐⭐⭐

---

## 5. Recommended Action Plan

### Phase 1: Critical Fixes (1-2 weeks)

1. **Remove Qt Font Patches**
   - Implement `CasareQGraphicsTextItem` subclass
   - Override in `custom_node_item.py`
   - Remove `CasareViewerFontFix` and `CasareQFontFix`
   - Test font rendering across all nodes

2. **Remove ComboBox/CheckBox Patches**
   - Create `CasareComboBox` and `CasareCheckBox` classes
   - Replace in `node_widgets.py`
   - Test widget rendering and z-order

3. **Fix Blocking I/O (Top 50)**
   - Replace `time.sleep()` with `await asyncio.sleep()`
   - Replace `open()` with `aiofiles.open()`
   - Replace `subprocess.run()` with `asyncio.create_subprocess_exec()`
   - Focus on orchestrator and dispatcher services first

### Phase 2: High Priority (2-3 weeks)

4. **Migrate to UnifiedHttpClient**
   - Refactor `infrastructure/resources/*_client.py`
   - Refactor `infrastructure/orchestrator/client.py`
   - Test resilience features (retry, circuit breaker)

5. **Fix Ruff B904 Errors (157)**
   - Add `from e` to all `raise` statements
   - Run `ruff check --fix` where possible

6. **Add @Slot Decorators (150)**
   - Add `from PySide6.QtCore import Slot`
   - Decorate all slot methods
   - Verify thread-safe signal/slot connections

### Phase 3: Medium Priority (3-4 weeks)

7. **Create Visual Nodes (Tier 1)**
   - Browser: 27 nodes
   - Control Flow: 12 nodes
   - File: 19 nodes
   - Implement `setup_ports()` and custom colors

8. **Replace Hardcoded Colors (500+)**
   - Create missing THEME constants
   - Replace hardcoded hex with THEME references
   - Test theme switching

9. **Fix Mypy Type Errors (60)**
   - Add missing type hints
   - Fix `implicit Optional` errors
   - Run `mypy --strict` in CI

---

## 6. Metrics & KPIs

### Current State

| Metric | Value | Target |
|--------|-------|--------|
| Node Modernization | 100% | ✅ Achieved |
| Ruff Errors | 318 | < 50 |
| Mypy Errors | 60+ | 0 |
| Blocking I/O | 253 | 0 |
| Theme Violations | 500+ | 0 |
| @Slot Missing | 150 | 0 |
| Monkey Patches | 5 | 0 |
| Visual Nodes | 0 | 424 |

### After Completion (Projected)

| Metric | Value | Improvement |
|--------|-------|-------------|
| Ruff Errors | < 50 | 84% ↓ |
| Mypy Errors | 0 | 100% ↓ |
| Blocking I/O | 0 | 100% ↓ |
| Theme Violations | 0 | 100% ↓ |
| Monkey Patches | 0 | 100% ↓ |
| Visual Nodes | 128 (Tier 1-2) | ∞ ↑ |

---

## 7. Testing Recommendations

### 7.1 Unit Tests for Removed Patches

```python
# tests/presentation/canvas/test_custom_node_item.py
def test_custom_node_item_font_handling():
    """Verify CasareNodeItem._create_port_text_item() handles invalid fonts."""
    from PySide6.QtWidgets import QGraphicsTextItem
    from PySide6.QtGui import QFont

    # Font is created with explicit size = 8 in _create_port_text_item
    # No global patch needed
    text = QGraphicsTextItem("test")
    font = text.font()
    assert font.pointSize() == 8
```

### 7.2 Integration Tests for UnifiedHttpClient

```python
# tests/infrastructure/http/test_client_migration.py
@pytest.mark.asyncio
async def test_gmail_client_uses_unified_client():
    """Verify GmailClient uses UnifiedHttpClient."""
    client = GmailClient()
    assert isinstance(client._http, UnifiedHttpClient)
```

---

## 8. Monkey Patch Removal Implementation Guide

### 8.1 Font Patches (CRITICAL - 2 patches to remove)

#### CasareViewerFontFix (`node_widgets.py` lines 232-265)
**Status:** ⚠️ PARTIALLY MODERNIZED - Still uses global `QGraphicsTextItem` patch

**Issue:** Patches `QGraphicsTextItem.font` globally
**Location:** `src/casare_rpa/presentation/canvas/graph/node_widgets.py:252-262`

**Current Code:**
```python
# MONKEY PATCH - DO NOT USE
def safe_font(self):
    f = original_font(self)
    if f.pointSize() <= 0:
        f.setPointSize(9)
    return f
QGraphicsTextItem.font = safe_font  # GLOBAL PATCH
```

**Fix:** Already implemented in `CasareNodeItem._create_port_text_item()` (line 1933)
The new method creates `QGraphicsTextItem` with explicit font size.

**Action Required:**
1. Remove `CasareViewerFontFix` class (lines 232-265)
2. Remove call `CasareViewerFontFix.apply_fix()` from `apply_all_node_widget_fixes()` (line 250)
3. Verify `CasareNodeItem._create_port_text_item()` is used everywhere

---

#### CasareQFontFix (`node_widgets.py` lines 268-301)
**Status:** ⚠️ STILL ACTIVE - Global QFont.setPointSize patch

**Issue:** Patches `QFont.setPointSize` globally across entire application
**Location:** `src/casare_rpa/presentation/canvas/graph/node_widgets.py:289-297`

**Current Code:**
```python
# MONKEY PATCH - DO NOT USE
original_setPointSize = QFont.setPointSize
def safe_setPointSize(self, size: int) -> None:
    if size <= 0:
        size = 9
    original_setPointSize(self, size)
QFont.setPointSize = safe_setPointSize  # GLOBAL PATCH
```

**Impact:**
- Affects ALL QFont instances in application
- Makes debugging font issues impossible
- Violates single responsibility
- Upgrading PySide6 may break

**Recommended Fix:**
Create a custom `CasareQFont` wrapper class:

```python
# src/casare_rpa/presentation/canvas/graph/casare_font.py
from PySide6.QtGui import QFont

class CasareQFont(QFont):
    """
    QFont subclass that guards against invalid point sizes.

    Replaces global QFont.setPointSize monkey patch.
    """
    def setPointSize(self, size: int) -> None:
        if size <= 0:
            size = 9  # Default to 9pt for invalid sizes
        super().setPointSize(size)

    @staticmethod
    def from_base(base: QFont) -> "CasareQFont":
        """Create CasareQFont from existing QFont."""
        font = CasareQFont(base)
        if base.pointSize() <= 0:
            font.setPointSize(9)
        return font
```

**Action Required:**
1. Create new file `src/casare_rpa/presentation/canvas/graph/casare_font.py`
2. Implement `CasareQFont` class
3. Update font creation to use `CasareQFont()` instead of `QFont()`
4. Remove `CasareQFontFix` class (lines 268-301)
5. Remove call `CasareQFontFix.apply_fix()` from `apply_all_node_widget_fixes()` (line 249)

---

### 8.2 ComboBox/CheckBox Patches (LOW - 2 patches)

#### `_install_widget_init_patches()` (`node_widgets.py` lines 329-359)
**Status:** ⚠️ PARTIALLY MODERNIZED - Already has `CasareComboBox` and `CasareCheckBox`

**Issue:** Patches `NodeComboBox.__init__` and `NodeCheckBox.__init__` globally
**Location:** `src/casare_rpa/presentation/canvas/graph/node_widgets.py:339-354`

**Current Code:**
```python
# MONKEY PATCH - Already modernized but kept for backward compatibility
original_combo_init = NodeComboBox.__init__
def patched_combo_init(...):
    original_combo_init(...)
    CasareComboBox.apply_fix(self)
NodeComboBox.__init__ = patched_combo_init  # GLOBAL PATCH
```

**Assessment:** The `CasareComboBox` and `CasareCheckBox` wrapper classes (lines 41-93) already provide the needed fixes via `apply_fix()` method. The patches are redundant.

**Action Required:**
1. Remove `_install_widget_init_patches()` function (lines 329-359)
2. Remove call to `_install_widget_init_patches()` from `apply_all_node_widget_fixes()` (line 251)
3. Verify `CasareComboBox.apply_fix()` and `CasareCheckBox.apply_styling()` are called when widgets are created

---

## 8. Conclusion

The codebase demonstrates excellent architectural foundations (Clean DDD, modern node patterns) but suffers from technical debt accumulated during rapid development.

**Key Takeaways:**
1. ✅ **Architecture is solid** - Clean DDD layers properly maintained
2. ✅ **Nodes are modernized** - All using `@properties` decorator
3. ❌ **Monkey patches need removal** - Critical for maintainability
4. ❌ **Async violations are widespread** - Performance impact
5. ❌ **Visual nodes are missing** - Node customization impossible

**Priority Order:**
1. Remove monkey patches (stability)
2. Fix blocking I/O (performance)
3. Migrate HTTP clients (resilience)
4. Create visual nodes (feature parity)
5. Fix theme colors (consistency)

**Estimated Effort:**
- Phase 1 (Critical): 40 hours
- Phase 2 (High): 60 hours
- Phase 3 (Medium): 80 hours
- **Total:** 180 hours (~5 weeks for 1 developer)

---

## 8. Monkey Patch Removal Implementation Guide

### 8.1 Font Patches (CRITICAL - 2 patches to remove)

#### CasareViewerFontFix (`node_widgets.py` lines 232-265)
**Status:** ⚠️ PARTIALLY MODERNIZED - Font fix moved to `_create_port_text_item()`

**Issue:** Still uses global `QGraphicsTextItem` patch in some code paths
**Location:** `src/casare_rpa/presentation/canvas/graph/node_widgets.py:252-262`

**Current Code:**
```python
# MONKEY PATCH - Global QGraphicsTextItem.font
original_font = QGraphicsTextItem.font
def safe_font(self):
    f = original_font(self)
    if f.pointSize() <= 0:
        f.setPointSize(9)
    return f
QGraphicsTextItem.font = safe_font  # GLOBAL PATCH
```

**Fix:** Already implemented in `CasareNodeItem._create_port_text_item()` (custom_node_item.py:1933)
The new method creates `QGraphicsTextItem` with explicit font size.

**Action Required:**
1. Remove `CasareViewerFontFix` class (lines 232-265 in node_widgets.py)
2. Remove call `CasareViewerFontFix.apply_fix()` from `apply_all_node_widget_fixes()` (line 250)
3. Verify `CasareNodeItem._create_port_text_item()` is used everywhere

---

#### CasareQFontFix (`node_widgets.py` lines 268-301)
**Status:** ⚠️ ACTIVE - Global QFont.setPointSize patch

**Issue:** Patches `QFont.setPointSize` globally across entire application
**Location:** `src/casare_rpa/presentation/canvas/graph/node_widgets.py:289-297`

**Current Code:**
```python
# MONKEY PATCH - Global QFont.setPointSize
original_setPointSize = QFont.setPointSize
def safe_setPointSize(self, size: int) -> None:
    if size <= 0:
        size = 9  # Default to 9pt for invalid sizes
    original_setPointSize(self, size)
QFont.setPointSize = safe_setPointSize  # GLOBAL PATCH
```

**Impact:**
- Affects ALL QFont instances in application
- Makes debugging font issues impossible
- Violates single responsibility
- Upgrading PySide6 may break

**Recommended Fix:**
Create a custom `CasareQFont` wrapper class:

```python
# src/casare_rpa/presentation/canvas/graph/casare_font.py
from PySide6.QtGui import QFont

class CasareQFont(QFont):
    """
    QFont subclass that guards against invalid point sizes.

    Replaces global QFont.setPointSize monkey patch.
    """
    def setPointSize(self, size: int) -> None:
        if size <= 0:
            size = 9  # Default to 9pt for invalid sizes
        super().setPointSize(size)

    @staticmethod
    def from_base(base: QFont) -> "CasareQFont":
        """Create CasareQFont from existing QFont."""
        font = CasareQFont(base)
        if base.pointSize() <= 0:
            font.setPointSize(9)
        return font
```

**Action Required:**
1. Create new file `src/casare_rpa/presentation/canvas/graph/casare_font.py`
2. Implement `CasareQFont` class
3. Update font creation to use `CasareQFont()` instead of `QFont()`
4. Remove `CasareQFontFix` class (lines 268-301 in node_widgets.py)
5. Remove call `CasareQFontFix.apply_fix()` from `apply_all_node_widget_fixes()` (line 249)

---

### 8.2 ComboBox/CheckBox Patches (LOW - 2 patches)

#### `_install_widget_init_patches()` (`node_widgets.py` lines 329-359)
**Status:** ⚠️ PARTIALLY MODERNIZED - Wrapper classes exist

**Issue:** Patches `NodeComboBox.__init__` and `NodeCheckBox.__init__` globally
**Location:** `src/casare_rpa/presentation/canvas/graph/node_widgets.py:339-354`

**Current Code:**
```python
# MONKEY PATCH - Wrapper classes already exist but patches remain
original_combo_init = NodeComboBox.__init__
def patched_combo_init(...):
    original_combo_init(...)
    CasareComboBox.apply_fix(self)
NodeComboBox.__init__ = patched_combo_init  # GLOBAL PATCH
```

**Assessment:** The `CasareComboBox` and `CasareCheckBox` wrapper classes (lines 41-93) already provide needed fixes via `apply_fix()` method. The patches are redundant.

**Action Required:**
1. Remove `_install_widget_init_patches()` function (lines 329-359 in node_widgets.py)
2. Remove call to `_install_widget_init_patches()` from `apply_all_node_widget_fixes()` (line 251)
3. Ensure `CasareComboBox.apply_fix()` and `CasareCheckBox.apply_styling()` are called when widgets are created

---

## 9. Summary of Changes

### Files to Create:
1. `src/casare_rpa/presentation/canvas/graph/casare_font.py` - Custom QFont wrapper

### Files to Modify:
1. `src/casare_rpa/presentation/canvas/graph/node_widgets.py` - Remove 3 patch classes
2. `src/casare_rpa/presentation/canvas/graph/custom_node_item.py` - Ensure font creation uses CasareQFont

### Patches Removed: 3 of 5
- ✅ CasareViewerFontFix (replaced by _create_port_text_item)
- ✅ CasareQFontFix (to be replaced by CasareQFont class)
- ✅ Widget init patches (redundant with wrapper classes)

### Patches Kept: 2 of 5
- ✅ Debug trace wrapper (development tool only, optional via env var)
- ✅ AutoConnectManager._original_context_policy (pattern, not true patching)

---

**Generated by:** Automated audit scripts
**Next Steps:** Review with team, prioritize fixes, begin Phase 1

{
  "$schema": "casare_rpa/workflow_template/1.0",
  "id": "tmpl_web_form_001",
  "metadata": {
    "name": "Web Form Automation",
    "description": "Automates filling and submitting web forms. Supports login forms, contact forms, and data entry forms with field validation.",
    "category": "web_scraping",
    "version": "1.0.0",
    "author": "CasareRPA",
    "tags": ["web", "form", "automation", "data-entry", "login"],
    "created_at": "2024-11-28T00:00:00",
    "modified_at": "2024-11-28T00:00:00",
    "icon": "form",
    "preview_image": "",
    "difficulty": "beginner",
    "estimated_duration": "1-5 minutes",
    "requirements": ["Playwright", "Internet connection"]
  },
  "parameters": [
    {
      "name": "target_url",
      "display_name": "Target URL",
      "description": "URL of the web page containing the form",
      "param_type": "url",
      "default_value": null,
      "required": true,
      "constraints": {},
      "group": "Form Location",
      "order": 0
    },
    {
      "name": "form_selector",
      "display_name": "Form Selector",
      "description": "CSS selector or XPath to identify the form element",
      "param_type": "selector",
      "default_value": "form",
      "required": false,
      "constraints": {},
      "group": "Form Location",
      "order": 1
    },
    {
      "name": "field_mappings",
      "display_name": "Field Mappings",
      "description": "JSON object mapping field selectors to values: {\"#email\": \"user@example.com\", \"#password\": \"secret\"}",
      "param_type": "json",
      "default_value": {},
      "required": true,
      "constraints": {},
      "group": "Form Data",
      "order": 2
    },
    {
      "name": "submit_button_selector",
      "display_name": "Submit Button Selector",
      "description": "CSS selector for the form submit button",
      "param_type": "selector",
      "default_value": "button[type='submit']",
      "required": false,
      "constraints": {},
      "group": "Form Actions",
      "order": 3
    },
    {
      "name": "wait_after_submit",
      "display_name": "Wait After Submit (ms)",
      "description": "Time to wait after form submission in milliseconds",
      "param_type": "integer",
      "default_value": 3000,
      "required": false,
      "constraints": {"min": 0, "max": 60000},
      "group": "Form Actions",
      "order": 4
    },
    {
      "name": "success_indicator",
      "display_name": "Success Indicator Selector",
      "description": "CSS selector for element that indicates successful submission",
      "param_type": "selector",
      "default_value": "",
      "required": false,
      "constraints": {},
      "group": "Validation",
      "order": 5
    },
    {
      "name": "take_screenshot",
      "display_name": "Take Screenshot",
      "description": "Capture screenshot after form submission",
      "param_type": "boolean",
      "default_value": true,
      "required": false,
      "constraints": {},
      "group": "Output",
      "order": 6
    }
  ],
  "workflow_definition": {
    "metadata": {
      "name": "Web Form Automation Workflow",
      "description": "Generated from Web Form Automation template",
      "version": "1.0.0"
    },
    "nodes": {
      "start_001": {
        "node_id": "start_001",
        "node_type": "StartNode",
        "name": "Start",
        "position": [100, 200],
        "config": {}
      },
      "browser_001": {
        "node_id": "browser_001",
        "node_type": "LaunchBrowserNode",
        "name": "Launch Browser",
        "position": [300, 200],
        "config": {
          "browser_type": "chromium",
          "headless": false
        }
      },
      "navigate_001": {
        "node_id": "navigate_001",
        "node_type": "NavigateNode",
        "name": "Navigate to Form",
        "position": [500, 200],
        "config": {
          "url": "{{target_url}}",
          "wait_until": "networkidle"
        }
      },
      "loop_001": {
        "node_id": "loop_001",
        "node_type": "ForEachNode",
        "name": "Fill Form Fields",
        "position": [700, 200],
        "config": {
          "items": "{{field_mappings}}"
        }
      },
      "type_001": {
        "node_id": "type_001",
        "node_type": "TypeTextNode",
        "name": "Type Field Value",
        "position": [900, 200],
        "config": {
          "selector": "{{current_key}}",
          "text": "{{current_value}}",
          "clear_first": true
        }
      },
      "click_001": {
        "node_id": "click_001",
        "node_type": "ClickNode",
        "name": "Submit Form",
        "position": [1100, 200],
        "config": {
          "selector": "{{submit_button_selector}}"
        }
      },
      "wait_001": {
        "node_id": "wait_001",
        "node_type": "WaitNode",
        "name": "Wait for Response",
        "position": [1300, 200],
        "config": {
          "wait_time": "{{wait_after_submit}}"
        }
      },
      "screenshot_001": {
        "node_id": "screenshot_001",
        "node_type": "ScreenshotNode",
        "name": "Capture Result",
        "position": [1500, 200],
        "config": {
          "enabled": "{{take_screenshot}}",
          "full_page": true
        }
      },
      "end_001": {
        "node_id": "end_001",
        "node_type": "EndNode",
        "name": "End",
        "position": [1700, 200],
        "config": {}
      }
    },
    "connections": [
      {"source_node": "start_001", "source_port": "exec_out", "target_node": "browser_001", "target_port": "exec_in"},
      {"source_node": "browser_001", "source_port": "exec_out", "target_node": "navigate_001", "target_port": "exec_in"},
      {"source_node": "browser_001", "source_port": "page", "target_node": "navigate_001", "target_port": "page"},
      {"source_node": "navigate_001", "source_port": "exec_out", "target_node": "loop_001", "target_port": "exec_in"},
      {"source_node": "loop_001", "source_port": "loop_body", "target_node": "type_001", "target_port": "exec_in"},
      {"source_node": "type_001", "source_port": "exec_out", "target_node": "loop_001", "target_port": "loop_next"},
      {"source_node": "loop_001", "source_port": "exec_out", "target_node": "click_001", "target_port": "exec_in"},
      {"source_node": "click_001", "source_port": "exec_out", "target_node": "wait_001", "target_port": "exec_in"},
      {"source_node": "wait_001", "source_port": "exec_out", "target_node": "screenshot_001", "target_port": "exec_in"},
      {"source_node": "screenshot_001", "source_port": "exec_out", "target_node": "end_001", "target_port": "exec_in"}
    ],
    "frames": [],
    "variables": {},
    "settings": {
      "stop_on_error": true,
      "timeout": 60,
      "retry_count": 1
    }
  },
  "usage_stats": {
    "total_uses": 0,
    "last_used": null,
    "successful_instantiations": 0,
    "failed_instantiations": 0,
    "average_rating": null,
    "rating_count": 0
  },
  "is_builtin": true,
  "source": "builtin",
  "marketplace_id": null
}

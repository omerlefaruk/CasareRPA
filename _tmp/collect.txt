============================= test session starts =============================
platform win32 -- Python 3.13.9, pytest-9.0.1, pluggy-1.5.0
PySide6 6.10.1 -- Qt runtime 6.10.1 -- Qt compiled 6.10.1
rootdir: C:\Users\Rau\Desktop\CasareRPA
configfile: pyproject.toml
plugins: anyio-4.11.0, asyncio-1.3.0, cov-7.0.0, qt-4.5.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=session, asyncio_default_test_loop_scope=function
collected 777 items / 1 skipped

<Dir CasareRPA>
  <Dir tests>
    <Dir application>
      <Module test_execution_engine.py>
        <Coroutine test_execution_engine_sequential>
        <Coroutine test_execution_engine_stop>
    <Package domain>
      <Dir ai>
        <Module test_prompts.py>
          <Class TestPromptBuilder>
            <Function test_build_system_prompt_structure>
            <Function test_robustness_instructions_content>
            <Function test_build_generation_prompt>
      <Module test_auto_resolution.py>
        <Class TestGetParameterAutoResolution>
          <Function test_auto_resolves_when_context_set>
          <Function test_raw_parameter_does_not_resolve>
          <Function test_resolve_false_flag_prevents_resolution>
          <Function test_no_resolution_when_context_not_set>
          <Function test_port_value_also_resolved>
          <Function test_none_values_not_resolved>
          <Coroutine test_execute_with_auto_resolution>
      <Module test_dynamic_port_config.py>
        <Class TestPortDef>
          <Function test_create_port_def_minimal>
          <Function test_create_port_def_all_args>
          <Function test_port_def_auto_label_snake_case>
          <Function test_port_def_immutability>
          <Function test_port_def_equality>
          <Function test_port_def_hash>
          <Function test_port_def_various_data_types>
        <Class TestActionPortConfig>
          <Function test_create_empty_config>
          <Function test_create_config_with_factory>
          <Function test_create_config_with_none_inputs>
          <Function test_create_config_with_none_outputs>
          <Function test_config_immutability>
          <Function test_config_equality>
        <Class TestDynamicPortSchema>
          <Function test_create_empty_schema>
          <Function test_register_action>
          <Function test_get_config_existing>
          <Function test_get_config_missing>
          <Function test_get_actions_returns_all>
          <Function test_has_action>
          <Function test_register_overwrites_existing>
          <Function test_schema_with_multiple_actions>
        <Class TestDynamicPortConfigEdgeCases>
          <Function test_port_def_with_empty_name>
          <Function test_port_def_with_special_characters>
          <Function test_schema_case_sensitive_actions>
          <Function test_port_def_preserves_explicit_label>
      <Module test_error_handler.py>
        <Class TestErrorHandlerAsync>
          <Coroutine test_success_returns_result>
          <Coroutine test_success_sets_status>
          <Coroutine test_error_returns_error_result>
          <Coroutine test_error_sets_error_status>
          <Coroutine test_error_logs_message>
          <Coroutine test_include_traceback_uses_exception_logger>
        <Class TestErrorHandlerSync>
          <Function test_sync_success_returns_result>
          <Function test_sync_error_returns_error_result>
        <Class TestErrorHandlerOptions>
          <Coroutine test_set_status_false_skips_status>
          <Coroutine test_reraise_propagates_exception>
          <Coroutine test_error_outputs_sets_values>
          <Coroutine test_custom_log_format_with_node_type>
        <Class TestErrorHandlerEdgeCases>
          <Coroutine test_node_without_status_attribute>
          <Coroutine test_node_without_node_id_uses_unknown>
          <Coroutine test_preserves_function_metadata>
          <Coroutine test_result_without_success_key_defaults_true>
      <Module test_node_decorators.py>
        <Function test_all_registered_nodes_have_node_and_properties_decorators>
        <Class TestNodeDecoratorEnforcement>
          <Function test_node_decorator_enforces_exec_ports>
          <Function test_node_decorator_preserves_configured_exec_ports>
      <Module test_property_schema.py>
        <Class TestPropertyDef>
          <Function test_create_minimal_property>
          <Function test_auto_label_generation>
          <Function test_essential_syncs_visibility>
          <Function test_visibility_essential_syncs_essential>
          <Function test_display_when_property>
          <Function test_hidden_when_property>
        <Class TestNodeSchema>
          <Function test_empty_schema>
          <Function test_schema_with_properties>
          <Function test_get_default_config>
          <Function test_get_property_existing>
          <Function test_get_property_missing>
          <Function test_get_essential_properties>
          <Function test_get_collapsible_properties>
          <Function test_get_sorted_properties>
        <Class TestShouldDisplay>
          <Function test_should_display_no_conditions>
          <Function test_should_display_internal_always_hidden>
          <Function test_should_display_missing_property>
          <Function test_display_when_single_value_match>
          <Function test_display_when_single_value_no_match>
          <Function test_display_when_list_match>
          <Function test_display_when_list_no_match>
          <Function test_display_when_list_empty_config>
          <Function test_hidden_when_single_value_match>
          <Function test_hidden_when_single_value_no_match>
          <Function test_hidden_when_list_match>
          <Function test_display_when_and_hidden_when_both_pass>
          <Function test_display_when_fails_hidden_when_would_pass>
          <Function test_hidden_when_triggers_even_with_display_when_pass>
          <Function test_display_when_multiple_keys_all_must_match>
          <Function test_hidden_when_multiple_keys_any_triggers_hide>
        <Class TestSuperNodePropertyFiltering>
          <Function test_read_file_visible_properties>
          <Function test_write_file_visible_properties>
          <Function test_copy_file_visible_properties>
          <Function test_delete_file_visible_properties>
          <Function test_action_switching>
        <Class TestNodeSchemaValidation>
          <Function test_validate_required_field_missing>
          <Function test_validate_required_field_empty>
          <Function test_validate_required_field_present>
          <Function test_validate_integer_range>
          <Function test_validate_choice_invalid>
    <Dir e2e>
      <Module test_canvas_integration.py>
        <Coroutine test_workflow_submission_from_ui>
      <Module test_canvas_workflow_roundtrip.py>
        <Function test_canvas_serialize_deserialize_roundtrip>
    <Package examples>
      <Module test_event_handling_example.py>
        <Class TestEventPublishSubscribe>
          <Function test_subscribe_and_publish_single_event>
          <Function test_multiple_subscribers_same_event>
          <Function test_different_event_types_routed_correctly>
          <Function test_subscribe_all_receives_everything>
          <Function test_unsubscribe>
        <Class TestEventImmutability>
          <Function test_event_is_frozen>
          <Function test_event_has_timestamp>
        <Class TestEventUsagePatterns>
          <Function test_event_driven_workflow>
      <Module test_node_creation_example.py>
        <Class TestExampleTextTransformNode>
          <Coroutine test_success_uppercase_transform>
          <Coroutine test_success_with_prefix>
          <Coroutine test_success_from_input_port>
          <Coroutine test_edge_case_empty_input>
          <Coroutine test_edge_case_none_input>
        <Class TestNodeRegistration>
          <Function test_node_has_correct_category>
          <Function test_node_has_ports_defined>
          <Function test_node_has_properties_schema>
    <Dir infrastructure>
      <Package ai>
        <Module test_imports.py>
          <Class TestPlaywrightMCPImports>
            <Function test_import_playwright_mcp_module>
            <Function test_import_playwright_mcp_client>
            <Function test_import_mcp_tool_result>
            <Function test_import_fetch_page_context>
            <Function test_playwright_mcp_client_has_expected_methods>
          <Class TestPageAnalyzerImports>
            <Function test_import_page_analyzer_module>
            <Function test_import_page_analyzer_class>
            <Function test_import_page_context>
            <Function test_import_form_info>
            <Function test_import_form_field>
            <Function test_import_analyze_page_function>
            <Function test_page_analyzer_has_expected_methods>
            <Function test_page_context_has_expected_methods>
          <Class TestAIModuleExports>
            <Function test_import_from_ai_module>
            <Function test_all_exports_in_module>
          <Class TestSmartWorkflowAgentImports>
            <Function test_import_smart_workflow_agent>
            <Function test_agent_has_url_pattern>
            <Function test_agent_has_max_urls_limit>
            <Function test_agent_has_url_detection_method>
            <Function test_agent_has_page_context_methods>
            <Function test_agent_has_page_context_cache>
          <Class TestDataclassTypeHints>
            <Function test_mcp_tool_result_type_hints>
            <Function test_page_context_type_hints>
            <Function test_form_info_type_hints>
            <Function test_form_field_type_hints>
          <Class TestImportErrorHandling>
            <Function test_playwright_mcp_import_no_side_effects>
            <Function test_page_analyzer_import_no_side_effects>
          <Class TestAsyncMethods>
            <Function test_playwright_client_async_methods>
            <Function test_fetch_page_context_is_async>
        <Module test_page_analyzer.py>
          <Class TestPageAnalyzerEmptySnapshot>
            <Function test_analyze_empty_snapshot_returns_empty_context>
            <Function test_analyze_none_snapshot_returns_empty_context>
          <Class TestPageAnalyzerFormExtraction>
            <Function test_analyze_form_extraction>
            <Function test_analyze_multiple_forms>
          <Class TestPageAnalyzerButtonExtraction>
            <Function test_analyze_button_extraction>
          <Class TestPageAnalyzerLinkExtraction>
            <Function test_analyze_link_extraction>
            <Function test_analyze_multiple_links>
          <Class TestPageAnalyzerInputExtraction>
            <Function test_analyze_input_extraction_standalone>
            <Function test_inputs_inside_forms_not_standalone>
          <Class TestPageAnalyzerTableExtraction>
            <Function test_analyze_table_extraction>
          <Class TestPageAnalyzerDropdownExtraction>
            <Function test_analyze_dropdown_extraction>
          <Class TestPageAnalyzerCheckboxExtraction>
            <Function test_analyze_checkbox_extraction>
          <Class TestPageAnalyzerNavigationExtraction>
            <Function test_analyze_navigation_extraction>
          <Class TestPageAnalyzerHeadingExtraction>
            <Function test_analyze_heading_extraction>
          <Class TestPageAnalyzerSelectorGeneration>
            <Function test_selector_generation_for_buttons>
            <Function test_selector_generation_for_inputs>
          <Class TestPageAnalyzerToPromptContext>
            <Function test_to_prompt_context_formatting>
            <Function test_to_prompt_context_limits_items>
          <Class TestPageAnalyzerIsEmpty>
            <Function test_is_empty_true_for_empty_context>
            <Function test_is_empty_false_for_content>
          <Class TestPageAnalyzerToDict>
            <Function test_to_dict_serialization>
          <Class TestAnalyzePageConvenienceFunction>
            <Function test_analyze_page_function>
          <Class TestFormFieldDataclass>
            <Function test_form_field_to_dict>
          <Class TestFormInfoDataclass>
            <Function test_form_info_to_dict>
          <Class TestPageAnalyzerEdgeCases>
            <Function test_malformed_snapshot_does_not_crash>
            <Function test_deeply_nested_elements>
            <Function test_special_characters_in_names>
        <Module test_playwright_mcp.py>
          <Class TestMCPToolResult>
            <Function test_successful_result>
            <Function test_failed_result>
            <Function test_get_text_empty_content>
            <Function test_get_text_multiple_items>
          <Class TestPlaywrightMCPClientInit>
            <Function test_default_initialization>
            <Function test_custom_initialization>
            <Function test_find_npx_returns_path>
          <Class TestPlaywrightMCPClientMocked>
            <Coroutine test_start_without_npx_fails_gracefully>
            <Coroutine test_stop_without_start>
            <Coroutine test_call_tool_not_initialized>
            <Coroutine test_list_tools_not_initialized>
          <Class TestPlaywrightMCPClientHighLevelMethods>
            <Coroutine test_navigate_calls_correct_tool>
            <Coroutine test_get_snapshot_calls_correct_tool>
            <Coroutine test_click_calls_correct_tool>
            <Coroutine test_type_text_calls_correct_tool>
            <Coroutine test_close_browser_calls_correct_tool>
            <Coroutine test_take_screenshot_calls_correct_tool>
            <Coroutine test_wait_for_text>
            <Coroutine test_wait_for_time>
            <Coroutine test_evaluate_js>
          <Class TestPlaywrightMCPClientContextManager>
            <Coroutine test_context_manager_starts_and_stops>
            <Coroutine test_context_manager_stops_on_exception>
          <Class TestFetchPageContextFunction>
            <Coroutine test_fetch_page_context_success>
            <Coroutine test_fetch_page_context_navigation_failure>
            <Coroutine test_fetch_page_context_exception_handling>
          <Class TestMCPRequestResponse>
            <Function test_request_id_increments>
            <Coroutine test_send_request_not_running>
          <Class TestMCPErrorHandling>
            <Coroutine test_start_general_exception>
            <Coroutine test_call_tool_exception>
          <Class TestMCPTimeouts>
            <Function test_default_timeouts>
        <Module test_url_detection.py>
          <Class TestURLDetection>
            <Function test_detect_single_url>
            <Function test_detect_multiple_urls>
            <Function test_detect_url_with_path>
            <Function test_detect_url_with_query_string>
            <Function test_no_urls_returns_empty_list>
            <Function test_detect_http_protocol>
            <Function test_detect_http_and_https>
            <Function test_url_in_single_quotes>
            <Function test_url_in_double_quotes>
            <Function test_url_with_trailing_period>
            <Function test_url_with_trailing_comma>
            <Function test_url_with_trailing_exclamation>
            <Function test_url_with_trailing_question_mark>
            <Function test_max_urls_limit>
            <Function test_duplicate_urls_removed>
            <Function test_url_with_port>
            <Function test_url_with_fragment>
            <Function test_url_pattern_is_case_insensitive>
            <Function test_url_in_markdown_link>
            <Function test_empty_prompt>
            <Function test_whitespace_only_prompt>
            <Function test_url_at_end_of_sentence>
            <Function test_complex_url_with_special_chars>
          <Class TestURLPatternRegex>
            <Function test_pattern_matches_basic_https>
            <Function test_pattern_matches_basic_http>
            <Function test_pattern_does_not_match_ftp>
            <Function test_pattern_does_not_match_invalid>
          <Class TestURLDetectionIntegration>
            <Coroutine test_mcp_available_check>
            <Coroutine test_fetch_page_context_returns_none_when_mcp_unavailable>
            <Function test_format_page_contexts_empty_list>
            <Function test_format_page_contexts_with_contexts>
      <Dir orchestrator>
        <Module test_admin_api_key_auth.py>
          <Coroutine test_verify_token_accepts_admin_api_key>
          <Coroutine test_verify_token_rejects_non_matching_admin_api_key>
        <Module test_monitoring_data_adapter_job_status.py>
          <Coroutine test_get_job_history_normalizes_claimed_to_running>
          <Coroutine test_get_job_history_rejects_invalid_status_without_db_access>
        <Module test_orchestrator_api_endpoints.py>
          <Function test_admin_endpoints_require_db>
          <Function test_job_cancel_requires_admin_key>
          <Function test_claim_job_requires_robot_key>
          <Function test_robot_heartbeat_maps_idle_to_online>
        <Module test_orchestrator_client_cleanup.py>
          <Coroutine test_connect_closes_session_on_client_error>
        <Module test_orchestrator_client_request_retry.py>
          <Coroutine test_request_does_not_retry_on_500>
          <Coroutine test_request_retries_on_503>
        <Module test_robot_authenticator.py>
          <Coroutine test_verify_token_async_validates_and_updates_last_used>
          <Coroutine test_verify_token_async_rejects_invalid_format_without_db_access>
        <Module test_robot_job_consumer.py>
          <Coroutine test_claim_job_uses_x_api_key_and_parses_payload>
          <Coroutine test_extend_lease_posts_correct_payload>
      <Module test_cache_keys.py>
        <Function test_deterministic_hashing_order_insensitivity>
        <Function test_different_node_types_different_keys>
        <Function test_nested_structures>
        <Function test_namespace_isolation>
      <Module test_robot_identity_store.py>
        <Function test_identity_store_resolve_creates_and_persists>
        <Function test_identity_store_overrides_worker_identity>
        <Function test_identity_store_backward_compatible_missing_fleet_fields>
    <Dir integration>
      <Module test_cache_flow.py>
        <Coroutine test_l1_l2_promotion>
        <Coroutine test_event_bus_invalidation>
        <Coroutine test_compression_logic>
    <Dir nodes>
      <Package browser>
        <Module test_evaluate_node.py>
          <Class TestBrowserEvaluateNodeInit>
            <Function test_init_default_config>
            <Function test_init_custom_name>
            <Function test_init_with_script_config>
          <Class TestBrowserEvaluateNodePorts>
            <Function test_define_ports_inputs>
            <Function test_define_ports_outputs>
            <Function test_port_types>
          <Class TestExecuteSimpleScript>
            <Coroutine test_execute_simple_script>
            <Coroutine test_execute_script_from_input_port>
            <Coroutine test_execute_numeric_result>
            <Coroutine test_execute_boolean_result>
          <Class TestExecuteWithArg>
            <Coroutine test_execute_with_arg>
            <Coroutine test_execute_with_object_arg>
            <Coroutine test_execute_without_arg>
          <Class TestExecuteReturnsObject>
            <Coroutine test_execute_returns_object>
            <Coroutine test_execute_returns_nested_object>
          <Class TestExecuteReturnsArray>
            <Coroutine test_execute_returns_array>
            <Coroutine test_execute_returns_array_of_objects>
            <Coroutine test_execute_returns_empty_array>
          <Class TestExecuteTimeout>
            <Coroutine test_execute_timeout_passed_to_wait_for_selector>
            <Coroutine test_execute_default_timeout>
          <Class TestExecuteScriptError>
            <Coroutine test_execute_script_error>
            <Coroutine test_execute_syntax_error>
            <Coroutine test_execute_missing_script>
            <Coroutine test_execute_whitespace_only_script>
            <Coroutine test_execute_no_page_available>
          <Class TestWaitForSelector>
            <Coroutine test_wait_for_selector_before_execute>
            <Coroutine test_wait_for_selector_empty_skips_wait>
            <Coroutine test_wait_for_selector_timeout_error>
            <Coroutine test_wait_for_selector_variable_resolution>
          <Class TestStoreVariable>
            <Coroutine test_store_variable_in_context>
            <Coroutine test_store_variable_empty_skips_storage>
            <Coroutine test_store_variable_whitespace_only_skips>
          <Class TestJsonParsing>
            <Coroutine test_json_parsing_enabled_parses_json_string>
            <Coroutine test_json_parsing_enabled_parses_array_string>
            <Coroutine test_json_parsing_disabled_returns_raw_string>
            <Coroutine test_json_parsing_invalid_json_returns_string>
            <Coroutine test_json_parsing_non_json_string_untouched>
            <Coroutine test_json_parsing_object_result_untouched>
          <Class TestEdgeCases>
            <Coroutine test_execute_returns_null>
            <Coroutine test_execute_returns_undefined>
            <Coroutine test_execute_large_result>
            <Coroutine test_node_status_success>
            <Coroutine test_node_status_error>
            <Coroutine test_variable_resolution_in_script>
          <Class TestRetryBehavior>
            <Coroutine test_retry_on_failure>
            <Coroutine test_all_retries_fail>
      <Package file>
        <Module test_file_system_super_node.py>
          <Class TestFileSystemSuperNodeInstantiation>
            <Function test_create_node_with_default_config>
            <Function test_create_node_with_custom_name>
            <Function test_create_node_with_action_config>
            <Function test_node_has_exec_ports>
            <Function test_node_default_ports_for_read_action>
          <Class TestReadFileAction>
            <Coroutine test_read_file_success>
            <Coroutine test_read_file_not_found>
            <Coroutine test_read_file_missing_path>
            <Coroutine test_read_file_max_size_exceeded>
            <Coroutine test_read_file_empty>
          <Class TestWriteFileAction>
            <Coroutine test_write_file_success>
            <Coroutine test_write_file_creates_directories>
            <Coroutine test_write_file_overwrites_existing>
          <Class TestAppendFileAction>
            <Coroutine test_append_file_success>
            <Coroutine test_append_creates_file_if_missing>
            <Coroutine test_append_fails_if_file_missing_and_create_disabled>
          <Class TestDeleteFileAction>
            <Coroutine test_delete_file_success>
            <Coroutine test_delete_file_not_found>
            <Coroutine test_delete_file_ignore_missing>
          <Class TestCopyFileAction>
            <Coroutine test_copy_file_success>
            <Coroutine test_copy_file_destination_exists_no_overwrite>
            <Coroutine test_copy_file_source_not_found>
          <Class TestMoveFileAction>
            <Coroutine test_move_file_success>
            <Coroutine test_move_file_rename>
          <Class TestFileExistsAction>
            <Coroutine test_file_exists_true>
            <Coroutine test_file_exists_false>
            <Coroutine test_directory_exists>
            <Coroutine test_exists_check_type_file>
          <Class TestGetFileSizeAction>
            <Coroutine test_get_file_size_success>
            <Coroutine test_get_file_size_not_found>
          <Class TestGetFileInfoAction>
            <Coroutine test_get_file_info_success>
          <Class TestCreateDirectoryAction>
            <Coroutine test_create_directory_success>
            <Coroutine test_create_nested_directories>
            <Coroutine test_create_directory_exist_ok>
          <Class TestListFilesAction>
            <Coroutine test_list_files_success>
            <Coroutine test_list_files_with_pattern>
            <Coroutine test_list_files_recursive>
            <Coroutine test_list_files_not_directory>
          <Class TestListDirectoryAction>
            <Coroutine test_list_directory_success>
            <Coroutine test_list_directory_files_only>
            <Coroutine test_list_directory_dirs_only>
          <Class TestFileSystemSecurity>
            <Coroutine test_path_traversal_blocked>
            <Coroutine test_null_byte_injection_blocked>
          <Class TestDynamicPortSchema>
            <Function test_port_schema_has_all_actions>
            <Function test_read_action_ports>
            <Function test_copy_action_ports>
        <Module test_image_convert_node.py>
          <Class TestImageConvertNode>
            <Coroutine test_batch_convert_folder_defaults_to_converted_subdir>
            <Coroutine test_scale_percent_resizes_output>
        <Module test_structured_data_super_node.py>
          <Class TestStructuredDataSuperNodeInstantiation>
            <Function test_create_node_with_default_config>
            <Function test_create_node_with_custom_name>
            <Function test_create_node_with_action_config>
            <Function test_node_has_exec_ports>
            <Function test_node_default_ports_for_read_csv>
            <Function test_node_ports_for_image_convert_init>
          <Class TestReadCSVAction>
            <Coroutine test_read_csv_success>
            <Coroutine test_read_csv_without_header>
            <Coroutine test_read_csv_custom_delimiter>
            <Coroutine test_read_csv_file_not_found>
            <Coroutine test_read_csv_max_rows>
          <Class TestWriteCSVAction>
            <Coroutine test_write_csv_success>
            <Coroutine test_write_csv_without_header>
          <Class TestReadJSONAction>
            <Coroutine test_read_json_success>
            <Coroutine test_read_json_array>
            <Coroutine test_read_json_file_not_found>
          <Class TestWriteJSONAction>
            <Coroutine test_write_json_success>
            <Coroutine test_write_json_array>
          <Class TestZipFilesAction>
            <Coroutine test_zip_files_success>
            <Coroutine test_zip_from_glob_pattern>
            <Coroutine test_zip_no_files_error>
          <Class TestUnzipFilesAction>
            <Coroutine test_unzip_files_success>
            <Coroutine test_unzip_file_not_found>
            <Coroutine test_unzip_zip_slip_protection>
          <Class TestImageConvertAction>
            <Coroutine test_image_convert_png_to_jpeg>
            <Coroutine test_image_convert_scale_percent>
            <Coroutine test_image_convert_auto_output_path>
            <Coroutine test_image_convert_output_directory>
            <Coroutine test_image_convert_batch_folder>
            <Coroutine test_image_convert_unsupported_format>
            <Coroutine test_image_convert_file_not_found>
            <Coroutine test_image_convert_destination_exists_no_overwrite>
          <Class TestStructuredDataPortSchema>
            <Function test_port_schema_has_all_actions>
            <Function test_read_csv_action_ports>
            <Function test_zip_action_ports>
            <Function test_image_convert_action_ports>
      <Package google_nodes>
        <Module test_drive_config_sync.py>
          <Class TestDriveConfigSync>
            <Function test_batch_download_node_reads_config>
            <Function test_list_files_node_reads_config>
            <Function test_workflow_loader_passes_config>
            <Function test_serializer_extracts_custom_properties>
          <Class TestEndToEndConfigFlow>
            <Function test_full_config_flow>
        <Module test_drive_download_nodes.py>
          <Class TestDriveDownloadFileNode>
            <Coroutine test_download_file_success>
            <Coroutine test_download_file_missing_file_id>
            <Coroutine test_download_file_missing_destination>
            <Coroutine test_download_file_creates_parent_directory>
          <Class TestDriveDownloadFolderNode>
            <Coroutine test_download_folder_success>
            <Coroutine test_download_folder_empty>
            <Coroutine test_download_folder_skips_google_workspace_files>
            <Coroutine test_download_folder_missing_folder_id>
            <Coroutine test_download_folder_list_files_error>
            <Coroutine test_download_folder_partial_failure>
          <Class TestDriveBatchDownloadNode>
            <Coroutine test_batch_download_success>
            <Coroutine test_batch_download_empty_list>
            <Coroutine test_batch_download_from_folder_url_recursive>
            <Coroutine test_batch_download_invalid_file_objects>
            <Coroutine test_batch_download_skips_google_workspace_files>
            <Coroutine test_batch_download_missing_destination_folder>
            <Coroutine test_batch_download_partial_failures>
            <Coroutine test_batch_download_creates_destination_folder>
            <Coroutine test_batch_download_uses_file_id_as_name_fallback>
      <Dir http>
        <Module test_http_nodes.py>
          <Coroutine test_http_request_get_success>
          <Coroutine test_http_request_post_success>
          <Coroutine test_http_request_error>
    <Package performance>
      <Module test_cache_benchmarks.py>
        <Coroutine test_cache_performance_benchmarks>
      <Module test_workflow_loading.py>
        <Class TestWorkflowSkeleton>
          <Function test_create_skeleton_with_defaults>
          <Function test_create_skeleton_with_all_fields>
          <Function test_skeleton_is_loaded_initially_false>
          <Function test_skeleton_with_deferred_data>
          <Function test_skeleton_equality_not_affected_by_internal_state>
        <Class TestIncrementalLoader>
          <Function test_create_loader>
          <Function test_load_skeleton_extracts_metadata>
          <Function test_load_skeleton_extracts_counts>
          <Function test_load_skeleton_extracts_node_types>
          <Function test_load_skeleton_extracts_variable_names>
          <Function test_load_skeleton_stores_full_data>
          <Function test_load_skeleton_with_file_path>
          <Function test_load_skeleton_empty_workflow>
          <Function test_load_skeleton_missing_metadata>
          <Function test_load_skeleton_performance_is_fast>
          <Function test_infer_categories_from_node_types>
          <Function test_infer_categories_empty_set>
          <Function test_get_workflow_info_returns_dict>
          <Function test_get_workflow_info_missing_file>
          <Function test_scan_directory_finds_workflows>
          <Function test_scan_directory_empty_directory>
          <Function test_scan_directory_nonexistent>
        <Class TestIncrementalLoaderLoadFull>
          <Function test_load_full_from_skeleton>
          <Function test_load_full_caches_result>
          <Function test_load_full_without_deferred_data>
        <Class TestIncrementalLoaderSingleton>
          <Function test_get_incremental_loader_returns_instance>
          <Function test_get_incremental_loader_returns_same_instance>
        <Class TestConvenienceFunctions>
          <Function test_load_workflow_skeleton>
          <Function test_get_workflow_info_function>
          <Function test_scan_workflows_function>
        <Class TestNodeInstancePool>
          <Function test_create_pool_with_defaults>
          <Function test_create_pool_with_custom_max>
          <Function test_acquire_creates_new_instance>
          <Function test_release_returns_instance_to_pool>
          <Function test_acquire_reuses_pooled_instance>
          <Function test_release_all_returns_multiple_nodes>
          <Function test_pool_respects_max_per_type>
          <Function test_get_stats_returns_hit_rate>
          <Function test_clear_empties_all_pools>
          <Function test_release_node_without_node_type_ignored>
        <Class TestNodeInstancePoolSingleton>
          <Function test_get_node_instance_pool_returns_instance>
          <Function test_get_node_instance_pool_returns_same_instance>
        <Class TestBatchResolveNodeTypes>
          <Function test_batch_resolve_resolves_all_types>
          <Function test_batch_resolve_aliases>
          <Function test_batch_resolve_empty_nodes>
          <Function test_batch_resolve_missing_node_type>
        <Class TestPreloadWorkflowNodeTypes>
          <Function test_preload_triggers_lazy_loading>
          <Function test_preload_empty_set>
        <Class TestCreateSingleNode>
          <Function test_create_node_success>
          <Function test_create_node_unknown_type_returns_none>
          <Function test_create_node_with_pooling>
        <Class TestInstantiateNodesParallel>
          <Function test_sequential_for_small_workflows>
          <Function test_parallel_for_large_workflows>
          <Function test_empty_nodes_returns_empty_dict>
        <Class TestLoadWorkflowFromDict>
          <Function test_load_with_defaults>
          <Function test_load_with_parallel_enabled>
          <Function test_load_with_parallel_disabled>
          <Function test_load_with_pooling_enabled>
          <Function test_load_with_skip_validation>
          <Function test_load_resolves_aliases>
        <Class TestWorkflowLoadingIntegration>
          <Function test_skeleton_then_full_load>
          <Function test_parallel_vs_sequential_performance>
          <Function test_pooling_improves_repeated_loads>
        <Class TestPerformanceBenchmarks>
          <Function test_skeleton_loading_under_10ms>
          <Function test_full_load_reasonable_time>
          <Function test_pool_hit_rate_improves_with_reuse>
        <Class TestEdgeCasesAndErrors>
          <Function test_workflow_with_invalid_node_type>
          <Function test_workflow_with_deeply_nested_config>
          <Function test_workflow_with_unicode_names>
          <Function test_concurrent_pool_access>
    <Package presentation>
      <Package canvas>
        <Dir connections>
          <Module test_shake_to_detach.py>
            <Class TestMovementSample>
              <Function test_create_sample>
            <Class TestShakeDetectionLogic>
              <Function test_direction_changes_list_pruning>
              <Function test_shake_threshold_check>
              <Function test_cooldown_check>
            <Class TestShakeToDetachManager>
              <Function test_initial_state>
              <Function test_set_active>
              <Function test_set_sensitivity>
              <Function test_sensitivity_minimum_values>
              <Function test_disconnect_all_wires>
              <Function test_reset_state>
              <Function test_drag_start_with_selected_node>
              <Function test_drag_start_while_connecting>
        <Dir graph>
          <Module test_custom_graph_drop.py>
            <Function test_drop_excel_creates_excel_open[.xlsx]>
            <Function test_drop_excel_creates_excel_open[.xls]>
            <Function test_drop_file_creates_file_system_read[.json]>
            <Function test_drop_file_creates_file_system_read[.xml]>
            <Function test_drop_file_creates_file_system_read[.txt]>
          <Module test_live_pipe.py>
            <Class TestCasareLivePipe>
              <Function test_paint_empty_path>
              <Function test_paint_with_path>
              <Function test_draw_index_pointer_horizontal>
              <Function test_draw_index_pointer_vertical>
              <Function test_draw_index_pointer_none_port>
            <Class TestCasarePipe>
              <Function test_draw_path_no_viewer>
        <Module test_graph_invariants.py>
          <Function test_pan_zoom_does_not_lose_nodes>
          <Function test_delete_node_removes_connections_and_undo_redo>
          <Function test_node_titles_stable_across_view_and_roundtrip>
        <Module test_viewport_culling.py>
          <Class TestViewportCullingManager>
            <Function test_initialization>
            <Function test_pipe_visibility_both_nodes_visible>
            <Function test_pipe_visibility_one_node_visible>
            <Function test_pipe_visibility_intersection>
            <Function test_pipe_visibility_completely_hidden>
        <Package ui>
          <Package widgets>
            <Package expression_editor>
              <Module test_base_editor.py>
                <Class TestEditorTypeEnum>
                  <Function test_editor_type_has_python>
                  <Function test_editor_type_has_javascript>
                  <Function test_editor_type_has_cmd>
                  <Function test_editor_type_has_markdown>
                  <Function test_editor_type_has_rich_text>
                  <Function test_editor_type_count>
                  <Function test_editor_type_iteration>
                  <Function test_editor_type_is_enum>
                <Class TestBaseExpressionEditorInterface>
                  <Function test_cannot_instantiate_directly>
                  <Function test_has_value_changed_signal>
                  <Function test_abstract_methods_defined>
                  <Function test_editor_type_property_exists>
                  <Function test_insert_variable_method_exists>
                  <Function test_set_focus_method_exists>
                <Class TestBaseExpressionEditorConcreteImplementation>
                  <Function test_concrete_can_be_instantiated>
                  <Function test_get_set_value_roundtrip>
                  <Function test_get_set_value_empty_string>
                  <Function test_get_set_value_special_characters>
                  <Function test_insert_at_cursor_beginning>
                  <Function test_insert_at_cursor_middle>
                  <Function test_insert_at_cursor_end>
                  <Function test_get_cursor_position>
                  <Function test_insert_variable_delegates_to_insert_at_cursor>
                  <Function test_value_changed_signal_emitted_on_set>
                  <Function test_value_changed_signal_emitted_on_insert>
                  <Function test_editor_type_initially_none>
                  <Function test_editor_type_can_be_set>
                <Class TestQABCMeta>
                  <Function test_metaclass_combines_qt_and_abc>
                  <Function test_base_editor_inherits_from_qwidget>
                <Class TestBaseExpressionEditorEdgeCases>
                  <Function test_multiline_content>
                  <Function test_unicode_content>
                  <Function test_very_long_content>
                  <Function test_tab_characters>
                  <Function test_variable_syntax_preserved>
                  <Function test_insert_empty_string>
                  <Function test_insert_updates_cursor>
              <Module test_code_editor.py>
                <Class TestCodeExpressionEditorInstantiation>
                  <Function test_instantiation_default_python>
                  <Function test_instantiation_explicit_python>
                  <Function test_instantiation_javascript>
                  <Function test_instantiation_cmd>
                  <Function test_instantiation_case_insensitive>
                  <Function test_instantiation_unknown_language_defaults_python>
                  <Function test_instantiation_with_parent>
                  <Function test_set_node_context>
                <Class TestCodeExpressionEditorValueOperations>
                  <Function test_get_value_empty>
                  <Function test_set_get_value_roundtrip>
                  <Function test_set_value_multiline>
                  <Function test_set_value_with_indentation>
                  <Function test_set_value_empty_string>
                  <Function test_set_value_replaces_content>
                  <Function test_value_changed_signal_emitted>
                <Class TestCodeExpressionEditorInsertAtCursor>
                  <Function test_insert_at_cursor_empty>
                  <Function test_insert_at_cursor_variable>
                  <Function test_insert_preserves_existing_content>
                  <Function test_insert_empty_string>
                <Class TestCodeExpressionEditorCursorPosition>
                  <Function test_get_cursor_position_empty>
                  <Function test_get_cursor_position_after_set>
                  <Function test_cursor_position_valid_range>
                <Class TestCodePlainTextEditLineNumberArea>
                  <Function test_line_number_area_exists>
                  <Function test_line_number_area_width_minimum>
                  <Function test_line_number_area_width_grows_with_lines>
                <Class TestCodePlainTextEditTabHandling>
                  <Function test_tab_stop_distance_set>
                  <Function test_tab_inserts_spaces>
                  <Function test_line_wrap_disabled>
                <Class TestCodeExpressionEditorHighlighter>
                  <Function test_python_highlighter_setup>
                  <Function test_javascript_highlighter_setup>
                  <Function test_cmd_no_highlighter>
                <Class TestCodeExpressionEditorFocus>
                  <Function test_set_focus_method_exists>
                  <Function test_set_focus_callable>
                <Class TestCodeExpressionEditorEdgeCases>
                  <Function test_unicode_content>
                  <Function test_very_long_line>
                  <Function test_many_lines>
                  <Function test_special_characters>
                  <Function test_variable_syntax_preserved>
                  <Function test_python_code_with_triple_quotes>
                  <Function test_javascript_template_literals>
                <Class TestCodeExpressionEditorInheritance>
                  <Function test_inherits_from_base>
                  <Function test_has_all_abstract_methods>
                  <Function test_has_value_changed_signal>
                  <Function test_insert_variable_delegates>
              <Module test_editor_factory.py>
                <Class TestEditorFactoryCreate>
                  <Function test_create_python_editor>
                  <Function test_create_javascript_editor>
                  <Function test_create_cmd_editor>
                  <Function test_create_markdown_editor>
                  <Function test_create_rich_text_editor>
                  <Function test_create_all_editor_types>
                  <Function test_create_with_parent>
                <Class TestEditorFactoryErrorHandling>
                  <Function test_create_invalid_type_raises_value_error>
                  <Function test_create_none_type_raises_error>
                <Class TestEditorFactoryCreateForPropertyType>
                  <Function test_code_property_creates_python_editor>
                  <Function test_text_property_creates_rich_text_editor>
                  <Function test_string_property_creates_rich_text_editor>
                  <Function test_json_property_creates_javascript_editor>
                  <Function test_script_property_creates_python_editor>
                  <Function test_property_type_case_insensitive>
                  <Function test_unknown_property_type_defaults_to_rich_text>
                <Class TestEditorFactoryNodeOverrides>
                  <Function test_email_body_uses_markdown>
                  <Function test_browser_evaluate_uses_javascript>
                  <Function test_run_python_uses_python>
                  <Function test_command_node_uses_cmd>
                  <Function test_execute_script_uses_python>
                  <Function test_override_not_applied_for_different_property>
                  <Function test_override_not_applied_for_different_node>
                <Class TestEditorFactoryStaticMethods>
                  <Function test_create_is_static_method>
                  <Function test_create_for_property_type_is_static_method>
                  <Function test_factory_not_singleton>
                <Class TestEditorFactoryIntegration>
                  <Function test_created_editor_has_working_value_methods>
                  <Function test_created_editor_has_working_cursor_methods>
                  <Function test_created_editor_emits_value_changed>
                  <Function test_different_editor_types_independent>
              <Module test_expand_button.py>
                <Class TestExpandButtonCreation>
                  <Function test_instantiation>
                  <Function test_instantiation_with_parent>
                  <Function test_button_text>
                  <Function test_button_size>
                  <Function test_button_tooltip>
                <Class TestExpandButtonSignals>
                  <Function test_clicked_expand_signal_exists>
                  <Function test_clicked_expand_emitted_on_click>
                  <Function test_multiple_clicks_emit_multiple_signals>
                  <Function test_signal_has_no_arguments>
                <Class TestExpandButtonAppearance>
                  <Function test_cursor_is_pointer>
                  <Function test_no_focus_policy>
                  <Function test_has_stylesheet>
                  <Function test_stylesheet_uses_theme>
                <Class TestExpandButtonState>
                  <Function test_button_enabled_by_default>
                  <Function test_button_can_be_disabled>
                  <Function test_disabled_button_no_signal>
                  <Function test_button_can_be_enabled_and_shown>
                <Class TestExpandButtonInheritance>
                  <Function test_inherits_from_qpushbutton>
                  <Function test_has_standard_button_methods>
                  <Function test_has_clicked_signal>
                <Class TestExpandButtonIntegration>
                  <Function test_connect_to_slot>
                  <Function test_disconnect_from_slot>
                  <Function test_multiple_handlers>
                <Class TestExpandButtonEdgeCases>
                  <Function test_rapid_clicks>
                  <Function test_click_while_handler_running>
                  <Function test_button_deletion_after_connection>
                  <Function test_signal_after_reparent>
                <Class TestExpandButtonAccessibility>
                  <Function test_has_accessible_name>
                  <Function test_tooltip_describes_action>
              <Module test_new_highlighters.py>
                <Class TestJsonHighlighter>
                  <Function test_highlight_keywords>
                  <Function test_highlight_keys>
                  <Function test_highlight_variable>
                <Class TestYamlHighlighter>
                  <Function test_highlight_keys>
                  <Function test_highlight_comments>
                  <Function test_highlight_variable>
                <Class TestCodeDetector>
                  <Function test_detect_python>
                  <Function test_detect_javascript>
                  <Function test_detect_json>
                  <Function test_detect_yaml>
                  <Function test_detect_markdown>
                  <Function test_detect_empty>
                  <Function test_detect_ambiguous>
              <Module test_syntax_highlighters.py>
                <Class TestPythonHighlighterKeywords>
                  <Function test_highlighter_has_keywords_list>
                  <Function test_keywords_include_def>
                  <Function test_keywords_include_class>
                  <Function test_keywords_include_import>
                  <Function test_keywords_include_if_else>
                  <Function test_keywords_include_loops>
                  <Function test_keywords_include_async>
                <Class TestPythonHighlighterBuiltins>
                  <Function test_builtins_list_exists>
                  <Function test_builtins_include_print>
                  <Function test_builtins_include_range>
                  <Function test_builtins_include_len>
                  <Function test_builtins_include_type_functions>
                <Class TestPythonHighlighterFormats>
                  <Function test_formats_dict_exists>
                  <Function test_format_for_keyword_exists>
                  <Function test_format_for_string_exists>
                  <Function test_format_for_comment_exists>
                  <Function test_format_for_number_exists>
                  <Function test_format_for_function_exists>
                  <Function test_format_for_builtin_exists>
                  <Function test_format_for_decorator_exists>
                  <Function test_format_for_variable_exists>
                <Class TestPythonHighlighterHighlightBlock>
                  <Function test_highlight_empty_string>
                  <Function test_highlight_simple_code>
                  <Function test_highlight_with_comments>
                  <Function test_highlight_with_strings>
                  <Function test_highlight_with_numbers>
                  <Function test_highlight_with_variable_syntax>
                <Class TestJavaScriptHighlighterKeywords>
                  <Function test_keywords_include_const_let_var>
                  <Function test_keywords_include_function>
                  <Function test_keywords_include_async_await>
                  <Function test_keywords_include_class_extends>
                  <Function test_keywords_include_import_export>
                <Class TestJavaScriptHighlighterBuiltins>
                  <Function test_builtins_include_console>
                  <Function test_builtins_include_document>
                  <Function test_builtins_include_window>
                  <Function test_builtins_include_json>
                  <Function test_builtins_include_primitives>
                <Class TestJavaScriptHighlighterFormats>
                  <Function test_formats_dict_exists>
                  <Function test_format_for_regex_exists>
                <Class TestJavaScriptHighlighterHighlightBlock>
                  <Function test_highlight_empty_string>
                  <Function test_highlight_const_declaration>
                  <Function test_highlight_template_literal>
                  <Function test_highlight_arrow_function>
                  <Function test_highlight_single_line_comment>
                  <Function test_highlight_multi_line_comment>
                <Class TestMarkdownHighlighterFormats>
                  <Function test_formats_dict_exists>
                  <Function test_format_for_heading_exists>
                  <Function test_format_for_bold_exists>
                  <Function test_format_for_italic_exists>
                  <Function test_format_for_link_exists>
                  <Function test_format_for_code_exists>
                  <Function test_format_for_code_block_exists>
                  <Function test_format_for_list_exists>
                  <Function test_format_for_blockquote_exists>
                <Class TestMarkdownHighlighterHighlightBlock>
                  <Function test_highlight_empty_string>
                  <Function test_highlight_h1_heading>
                  <Function test_highlight_h2_heading>
                  <Function test_highlight_h3_heading>
                  <Function test_highlight_bold_text>
                  <Function test_highlight_italic_text>
                  <Function test_highlight_link>
                  <Function test_highlight_inline_code>
                  <Function test_highlight_code_block_fence>
                  <Function test_highlight_bullet_list>
                  <Function test_highlight_numbered_list>
                  <Function test_highlight_blockquote>
                  <Function test_highlight_horizontal_rule>
                  <Function test_code_block_state_toggle>
                <Class TestStylesheetFunctions>
                  <Function test_python_stylesheet_exists>
                  <Function test_python_stylesheet_returns_string>
                  <Function test_python_stylesheet_contains_qt_class>
                  <Function test_javascript_stylesheet_exists>
                  <Function test_javascript_stylesheet_returns_string>
                  <Function test_markdown_stylesheet_exists>
                  <Function test_markdown_stylesheet_returns_string>
                <Class TestSyntaxColors>
                  <Function test_syntax_colors_exists>
                  <Function test_syntax_colors_keyword>
                  <Function test_syntax_colors_string>
                  <Function test_syntax_colors_comment>
                  <Function test_syntax_colors_number>
                <Class TestHighlighterEdgeCases>
                  <Function test_python_very_long_line>
                  <Function test_javascript_nested_comments>
                  <Function test_markdown_mixed_formatting>
                  <Function test_python_unicode_identifiers>
                  <Function test_highlighter_with_only_whitespace>
      <Module test_super_node_mixin.py>
        <Class TestSuperNodeMixinClassAttributes>
          <Function test_dynamic_port_schema_default_none>
          <Function test_mixin_can_be_subclassed>
        <Class TestSuperNodeMixinSetCasareNode>
          <Function test_set_casare_node_calls_super>
          <Function test_set_casare_node_triggers_widget_filter>
        <Class TestSuperNodeMixinSetupActionListener>
          <Function test_setup_action_listener_initializes_storage>
          <Function test_setup_action_listener_sets_collapsed_false>
        <Class TestSuperNodeMixinOnActionChanged>
          <Function test_on_action_changed_no_schema_logs_warning>
          <Function test_on_action_changed_calls_clear_and_create>
          <Function test_on_action_changed_invalid_action>
        <Class TestSuperNodeMixinWidgetManagement>
          <Function test_hide_widget_stores_in_hidden>
          <Function test_restore_widget_returns_from_hidden>
        <Class TestSuperNodeMixinPortManagement>
          <Function test_clear_dynamic_ports_preserves_exec>
          <Function test_create_ports_from_config>
        <Class TestSuperNodeMixinGetCurrentAction>
          <Function test_get_current_action_returns_value>
          <Function test_get_current_action_no_widget>
        <Class TestSuperNodeMixinGetPortConfig>
          <Function test_get_port_config_existing>
          <Function test_get_port_config_no_schema>
        <Class TestSuperNodeMixinIntegration>
          <Function test_action_change_workflow>
          <Function test_backward_compatibility_alias>
    <Dir tools>
      <Module test_workflow_builder.py>
        <Class TestWorkflowBuilder>
          <Function test_add_node>
          <Function test_connect_nodes>
          <Function test_inject_script_escaping>
          <Function test_circular_dependency_prevention>
          <Function test_delete_node>
          <Function test_save_workflow>

======================== 777 tests collected in 3.50s =========================
